<!DOCTYPE html>
<html>
<head>
    <title>AI Palmistry Dashboard</title>
    <script src="https://cdn.jsdelivr.net/npm/qrcodejs@1.0.0/qrcode.min.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-database.js"></script>
    <style>
        body { background: #0c0c1e; color: #ffd700; font-family: 'Times New Roman', serif; text-align: center; margin: 0; padding: 20px; }
        h1 { text-shadow: 0 0 10px gold; font-size: 3.5rem; }
        #qr-container { background: white; padding: 20px; width: 250px; height: 250px; margin: 40px auto; border-radius: 15px; display: flex; justify-content: center; align-items: center; }
        .result-panel { display: none; margin: 50px auto; max-width: 700px; padding: 30px; border: 4px double gold; background: rgba(255,215,0,0.05); border-radius: 20px; animation: fadeIn 1s; }
        .line-reading { margin: 20px; font-size: 22px; text-align: left; border-left: 5px solid gold; padding-left: 15px; }
        #resetBtn { margin-top: 30px; padding: 15px 40px; background: gold; color: #000; border: none; border-radius: 30px; font-weight: bold; cursor: pointer; }
        @keyframes fadeIn { from {opacity: 0;} to {opacity: 1;} }
    </style>
</head>
<body>
    <h1>‚ú® AI Samudrika Shastra ‚ú®</h1>
    
    <div id="setup-screen">
        <p style="font-size: 1.5rem;">Aligning Camera to Palmar Creases...</p>
        <div id="qr-container"></div>
    </div>

    <div id="result-panel" class="result-panel">
        <h2>Destiny Analysis Complete</h2>
        <div id="line-heart" class="line-reading">‚ù§Ô∏è Heart Line:</div>
        <div id="line-head" class="line-reading">üß† Head Line:</div>
        <div id="line-life" class="line-reading">üå± Life Line:</div>
        <div id="line-fate" class="line-reading">üî± Fate Line:</div>
        <button id="resetBtn">START NEW SCAN</button>
    </div>

<script>
    const firebaseConfig = { databaseURL: "https://palm-scanner-expo-default-rtdb.europe-west1.firebasedatabase.app/" };
    firebase.initializeApp(firebaseConfig);
    const database = firebase.database();

    window.addEventListener('load', function() {
        const scannerUrl = "https://dinzs01.github.io/AI-Palm-Scanner/palm_scanner.html";
        new QRCode(document.getElementById("qr-container"), { text: scannerUrl, width: 250, height: 250 });
    });

    const readings = [
        { heart: "Empathic and emotionally resilient.", head: "Highly logical and strategic.", life: "Vitality and strong recovery power.", fate: "Success through self-discipline." },
        { heart: "Passionate and creative.", head: "Innovative and out-of-the-box thinker.", life: "Steady growth and long life.", fate: "A path marked by unique achievements." },
        { heart: "Loyal and deeply intuitive.", head: "Sharp memory and quick wit.", life: "Active lifestyle and great energy.", fate: "Leadership and public recognition." }
    ];

    database.ref('palm_reading_data').on('value', (snapshot) => {
        const data = snapshot.val();
        if (data && data.scanning === true) {
            const pick = readings[Math.floor(Math.random() * readings.length)];
            document.getElementById('line-heart').innerHTML = "‚ù§Ô∏è <b>Hridaya Rekha:</b> " + pick.heart;
            document.getElementById('line-head').innerHTML = "üß† <b>Matri Rekha:</b> " + pick.head;
            document.getElementById('line-life').innerHTML = "üå± <b>Jeevan Rekha:</b> " + pick.life;
            document.getElementById('line-fate').innerHTML = "üî± <b>Bhagya Rekha:</b> " + pick.fate;
            document.getElementById('setup-screen').style.display = 'none';
            document.getElementById('result-panel').style.display = 'block';
        }
    });

    document.getElementById('resetBtn').onclick = function() {
        database.ref('palm_reading_data').set({ scanning: false }).then(() => { location.reload(); });
    };
</script>
</body>
</html>
